[1A[2K[2m[WebServer] [22m[build-only] ðŸ”§ building frontend (debug)â€¦

[1A[2K[2m[WebServer] [22m[build-only] ðŸ—  wasm-pack build â€¦

[1A[2K[2m[WebServer] [22m[INFO]: ðŸŽ¯  Checking for the Wasm target...

[1A[2K[2m[WebServer] [22m[INFO]: ðŸŒ€  Compiling to Wasm...

[1A[2K[2m[WebServer] [22mwarning: agent-platform-frontend@0.1.0: WebSocket types generated successfully

[1A[2K[2m[WebServer] [22m    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.04s

[1A[2K[2m[WebServer] [22m[INFO]: â¬‡ï¸  Installing wasm-bindgen...

[1A[2K[2m[WebServer] [22m[INFO]: Optional fields missing from Cargo.toml: 'description', 'repository', and 'license'. These are not necessary, but recommended

[1A[2K[2m[WebServer] [22m[INFO]: âœ¨   Done in 0.31s
[2m[WebServer] [22m[INFO]: ðŸ“¦   Your wasm pkg is ready to publish at /Users/davidrose/git/zerg/frontend/pkg.

[1A[2K[2m[WebServer] [22m[build-only] ðŸ“¦ copying WASM artifacts to www...

[1A[2K[2m[WebServer] [22m[build-only] âœï¸  writing bootstrap.js â€¦

[1A[2K[2m[WebServer] [22m[build-only] ðŸ§© generating index.html from template â€¦

[1A[2K[2m[WebServer] [22m[build-only] âœï¸  writing config.js â€¦

[1A[2K[2m[WebServer] [22m[build-only] âœ… build complete (output in frontend/www/)

ðŸš€ Setting up test environment...
âœ… Pre-test cleanup completed
âœ… Test environment setup completed

Running 6 tests using 2 workers

[1A[2K[1/6] [chromium] â€º tests/canvas_api_contract.spec.ts:10:7 â€º Canvas UI Tests â€º Canvas tab loads successfully without errors
[1A[2K[2/6] [chromium] â€º tests/agent_creation_full.spec.ts:15:7 â€º Agent Creation Full Workflow â€º Complete agent creation and isolation test
[1A[2K[chromium] â€º tests/agent_creation_full.spec.ts:15:7 â€º Agent Creation Full Workflow â€º Complete agent creation and isolation test
ðŸ” Starting complete agent creation test...

[1A[2KðŸ“Š Worker ID: 0

[1A[2KðŸ“Š Step 0: Resetting database...

[1A[2K[2m[WebServer] [22mWARNING:zerg.routers.admin:Resetting database - dropping all tables

[1A[2Kâœ… Database reset successful

[1A[2KðŸ“Š Step 1: Verifying empty state...

[1A[2KðŸ“Š Initial agent count: [33m0[39m

[1A[2KðŸ“Š Step 2: Creating agent via API...

[1A[2KðŸ“Š Agent creation status: [33m201[39m

[1A[2KðŸ“Š Created agent ID: [33m1[39m

[1A[2KðŸ“Š Created agent name: Test Agent Worker 0

[1A[2KðŸ“Š Step 3: Verifying agent appears in list...

[1A[2KðŸ“Š Updated agent count: [33m1[39m

[1A[2Kâœ… Agent found in list with correct data

[1A[2KðŸ“Š Step 5: Testing UI integration...

[1A[2K[3/6] [chromium] â€º tests/agent_creation_full.spec.ts:15:7 â€º Agent Creation Full Workflow â€º Complete agent creation and isolation test (retry #1)
[1A[2KðŸ” Starting complete agent creation test...

[1A[2KðŸ“Š Worker ID: 2

[1A[2KðŸ“Š Step 0: Resetting database...

[1A[2K[2m[WebServer] [22mWARNING:zerg.routers.admin:Resetting database - dropping all tables

[1A[2Kâœ… Database reset successful

[1A[2KðŸ“Š Step 1: Verifying empty state...

[1A[2KðŸ“Š Initial agent count: [33m1[39m

[1A[2K  1) [chromium] â€º tests/agent_creation_full.spec.ts:15:7 â€º Agent Creation Full Workflow â€º Complete agent creation and isolation test 

    TimeoutError: locator.click: Timeout 10000ms exceeded.
    Call log:
    [2m  - waiting for getByTestId('global-dashboard-tab')[22m


      82 |     
      83 |     // Navigate to dashboard
    > 84 |     await page.getByTestId('global-dashboard-tab').click();
         |                                                    ^
      85 |     await page.waitForTimeout(2000);
      86 |     
      87 |     // Look for the created agent in the UI
        at /Users/davidrose/git/zerg/e2e/tests/agent_creation_full.spec.ts:84:52

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/agent_creation_full-Agent--c7b1d-creation-and-isolation-test-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/agent_creation_full-Agent--c7b1d-creation-and-isolation-test-chromium/error-context.md

    attachment #3: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/agent_creation_full-Agent--c7b1d-creation-and-isolation-test-chromium/trace.zip
    Usage:

        npx playwright show-trace test-results/agent_creation_full-Agent--c7b1d-creation-and-isolation-test-chromium/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m

      38 |     const initialAgentsList = await initialAgents.json();
      39 |     console.log('ðŸ“Š Initial agent count:', initialAgentsList.length);
    > 40 |     expect(initialAgentsList.length).toBe(0);
         |                                      ^
      41 |     
      42 |     // Step 2: Create an agent via API
      43 |     console.log('ðŸ“Š Step 2: Creating agent via API...');
        at /Users/davidrose/git/zerg/e2e/tests/agent_creation_full.spec.ts:40:38

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/agent_creation_full-Agent--c7b1d-creation-and-isolation-test-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/agent_creation_full-Agent--c7b1d-creation-and-isolation-test-chromium-retry1/error-context.md

    attachment #3: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/agent_creation_full-Agent--c7b1d-creation-and-isolation-test-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/agent_creation_full-Agent--c7b1d-creation-and-isolation-test-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


[1A[2K[4/6] [chromium] â€º tests/canvas_api_contract.spec.ts:35:7 â€º Canvas UI Tests â€º Canvas persists state when switching tabs
[1A[2K[5/6] [chromium] â€º tests/canvas_api_contract.spec.ts:10:7 â€º Canvas UI Tests â€º Canvas tab loads successfully without errors (retry #1)
[1A[2K[6/6] [chromium] â€º tests/canvas_api_contract.spec.ts:35:7 â€º Canvas UI Tests â€º Canvas persists state when switching tabs (retry #1)
[1A[2K  2) [chromium] â€º tests/canvas_api_contract.spec.ts:10:7 â€º Canvas UI Tests â€º Canvas tab loads successfully without errors 

    Error: [31mTimed out 15000ms waiting for [39m[2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m()[22m

    Locator: getByTestId('global-dashboard-tab')
    Expected: visible
    Received: <element(s) not found>
    Call log:
    [2m  - expect.toBeVisible with timeout 15000ms[22m
    [2m  - waiting for getByTestId('global-dashboard-tab')[22m


      13 |     
      14 |     // Wait for app header/tabs to render
    > 15 |     await expect(page.getByTestId('global-dashboard-tab')).toBeVisible({ timeout: 15000 });
         |                                                            ^
      16 |     // User clicks on Canvas tab
      17 |     const canvasTab = page.getByTestId('global-canvas-tab');
      18 |     await expect(canvasTab).toBeVisible({ timeout: 15000 });
        at /Users/davidrose/git/zerg/e2e/tests/canvas_api_contract.spec.ts:15:60

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/canvas_api_contract-Canvas-6b466-successfully-without-errors-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/canvas_api_contract-Canvas-6b466-successfully-without-errors-chromium/error-context.md

    attachment #3: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/canvas_api_contract-Canvas-6b466-successfully-without-errors-chromium/trace.zip
    Usage:

        npx playwright show-trace test-results/canvas_api_contract-Canvas-6b466-successfully-without-errors-chromium/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [31mTimed out 15000ms waiting for [39m[2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m()[22m

    Locator: getByTestId('global-dashboard-tab')
    Expected: visible
    Received: <element(s) not found>
    Call log:
    [2m  - expect.toBeVisible with timeout 15000ms[22m
    [2m  - waiting for getByTestId('global-dashboard-tab')[22m


      13 |     
      14 |     // Wait for app header/tabs to render
    > 15 |     await expect(page.getByTestId('global-dashboard-tab')).toBeVisible({ timeout: 15000 });
         |                                                            ^
      16 |     // User clicks on Canvas tab
      17 |     const canvasTab = page.getByTestId('global-canvas-tab');
      18 |     await expect(canvasTab).toBeVisible({ timeout: 15000 });
        at /Users/davidrose/git/zerg/e2e/tests/canvas_api_contract.spec.ts:15:60

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/canvas_api_contract-Canvas-6b466-successfully-without-errors-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/canvas_api_contract-Canvas-6b466-successfully-without-errors-chromium-retry1/error-context.md

    attachment #3: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/canvas_api_contract-Canvas-6b466-successfully-without-errors-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/canvas_api_contract-Canvas-6b466-successfully-without-errors-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


[1A[2K[7/6] (retries) [chromium] â€º tests/canvas_api_contract.spec.ts:56:7 â€º Canvas UI Tests â€º Canvas workspace is interactive
[1A[2K  3) [chromium] â€º tests/canvas_api_contract.spec.ts:35:7 â€º Canvas UI Tests â€º Canvas persists state when switching tabs 

    Error: [31mTimed out 15000ms waiting for [39m[2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m()[22m

    Locator: getByTestId('global-canvas-tab')
    Expected: visible
    Received: <element(s) not found>
    Call log:
    [2m  - expect.toBeVisible with timeout 15000ms[22m
    [2m  - waiting for getByTestId('global-canvas-tab')[22m


      36 |     // Navigate to canvas
      37 |     await page.goto('/');
    > 38 |     await expect(page.getByTestId('global-canvas-tab')).toBeVisible({ timeout: 15000 });
         |                                                         ^
      39 |     await page.getByTestId('global-canvas-tab').click();
      40 |     
      41 |     // Wait for canvas to load
        at /Users/davidrose/git/zerg/e2e/tests/canvas_api_contract.spec.ts:38:57

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/canvas_api_contract-Canvas-ce510-s-state-when-switching-tabs-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/canvas_api_contract-Canvas-ce510-s-state-when-switching-tabs-chromium/error-context.md

    attachment #3: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/canvas_api_contract-Canvas-ce510-s-state-when-switching-tabs-chromium/trace.zip
    Usage:

        npx playwright show-trace test-results/canvas_api_contract-Canvas-ce510-s-state-when-switching-tabs-chromium/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [31mTimed out 15000ms waiting for [39m[2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m()[22m

    Locator: getByTestId('global-canvas-tab')
    Expected: visible
    Received: <element(s) not found>
    Call log:
    [2m  - expect.toBeVisible with timeout 15000ms[22m
    [2m  - waiting for getByTestId('global-canvas-tab')[22m


      36 |     // Navigate to canvas
      37 |     await page.goto('/');
    > 38 |     await expect(page.getByTestId('global-canvas-tab')).toBeVisible({ timeout: 15000 });
         |                                                         ^
      39 |     await page.getByTestId('global-canvas-tab').click();
      40 |     
      41 |     // Wait for canvas to load
        at /Users/davidrose/git/zerg/e2e/tests/canvas_api_contract.spec.ts:38:57

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/canvas_api_contract-Canvas-ce510-s-state-when-switching-tabs-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/canvas_api_contract-Canvas-ce510-s-state-when-switching-tabs-chromium-retry1/error-context.md

    attachment #3: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/canvas_api_contract-Canvas-ce510-s-state-when-switching-tabs-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/canvas_api_contract-Canvas-ce510-s-state-when-switching-tabs-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


[1A[2K[8/6] (retries) [chromium] â€º tests/canvas_complete_workflow.spec.ts:17:7 â€º Complete Canvas Workflow â€º End-to-end canvas workflow with agent and tool execution
[1A[2K[chromium] â€º tests/canvas_complete_workflow.spec.ts:17:7 â€º Complete Canvas Workflow â€º End-to-end canvas workflow with agent and tool execution
ðŸš€ Starting complete canvas workflow test...

[1A[2KðŸ“Š Worker ID: 7

[1A[2KðŸ“Š Step 1: Creating test agent...

[1A[2Kâœ… Test agent created with ID: [33m2[39m

[1A[2KðŸ“Š Step 2: Navigating to application...

[1A[2K[9/6] (retries) [chromium] â€º tests/canvas_api_contract.spec.ts:56:7 â€º Canvas UI Tests â€º Canvas workspace is interactive (retry #1)
[1A[2KðŸ“Š Step 3: Verifying agent in dashboard...

[1A[2K[10/6] (retries) [chromium] â€º tests/canvas_complete_workflow.spec.ts:17:7 â€º Complete Canvas Workflow â€º End-to-end canvas workflow with agent and tool execution (retry #1)
[1A[2KðŸš€ Starting complete canvas workflow test...

[1A[2KðŸ“Š Worker ID: 9

[1A[2KðŸ“Š Step 1: Creating test agent...

[1A[2Kâœ… Test agent created with ID: [33m3[39m

[1A[2KðŸ“Š Step 2: Navigating to application...

[1A[2KðŸ“Š Step 3: Verifying agent in dashboard...

[1A[2K  4) [chromium] â€º tests/canvas_api_contract.spec.ts:56:7 â€º Canvas UI Tests â€º Canvas workspace is interactive 

    Error: [31mTimed out 15000ms waiting for [39m[2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m()[22m

    Locator: getByTestId('global-canvas-tab')
    Expected: visible
    Received: <element(s) not found>
    Call log:
    [2m  - expect.toBeVisible with timeout 15000ms[22m
    [2m  - waiting for getByTestId('global-canvas-tab')[22m


      57 |     // Navigate to canvas
      58 |     await page.goto('/');
    > 59 |     await expect(page.getByTestId('global-canvas-tab')).toBeVisible({ timeout: 15000 });
         |                                                         ^
      60 |     await page.getByTestId('global-canvas-tab').click();
      61 |     
      62 |     // Wait for canvas to load
        at /Users/davidrose/git/zerg/e2e/tests/canvas_api_contract.spec.ts:59:57

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/canvas_api_contract-Canvas-545c8-as-workspace-is-interactive-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/canvas_api_contract-Canvas-545c8-as-workspace-is-interactive-chromium/error-context.md

    attachment #3: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/canvas_api_contract-Canvas-545c8-as-workspace-is-interactive-chromium/trace.zip
    Usage:

        npx playwright show-trace test-results/canvas_api_contract-Canvas-545c8-as-workspace-is-interactive-chromium/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [31mTimed out 15000ms waiting for [39m[2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m()[22m

    Locator: getByTestId('global-canvas-tab')
    Expected: visible
    Received: <element(s) not found>
    Call log:
    [2m  - expect.toBeVisible with timeout 15000ms[22m
    [2m  - waiting for getByTestId('global-canvas-tab')[22m


      57 |     // Navigate to canvas
      58 |     await page.goto('/');
    > 59 |     await expect(page.getByTestId('global-canvas-tab')).toBeVisible({ timeout: 15000 });
         |                                                         ^
      60 |     await page.getByTestId('global-canvas-tab').click();
      61 |     
      62 |     // Wait for canvas to load
        at /Users/davidrose/git/zerg/e2e/tests/canvas_api_contract.spec.ts:59:57

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/canvas_api_contract-Canvas-545c8-as-workspace-is-interactive-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/canvas_api_contract-Canvas-545c8-as-workspace-is-interactive-chromium-retry1/error-context.md

    attachment #3: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/canvas_api_contract-Canvas-545c8-as-workspace-is-interactive-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/canvas_api_contract-Canvas-545c8-as-workspace-is-interactive-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


[1A[2K[11/6] (retries) [chromium] â€º tests/comprehensive_debug.spec.ts:15:7 â€º Comprehensive Debug â€º Complete system debug and diagnosis
[1A[2K[chromium] â€º tests/comprehensive_debug.spec.ts:15:7 â€º Comprehensive Debug â€º Complete system debug and diagnosis
ðŸ” Starting comprehensive debug test...

[1A[2KðŸ“Š Worker ID: 10

[1A[2KðŸ“Š NODE_ENV: test

[1A[2KðŸ“Š Backend URL: http://localhost:47300

[1A[2KðŸ” Test 1: Basic connectivity

[1A[2KðŸ“Š Basic connectivity status: [33m200[39m

[1A[2Kâœ… Backend is accessible

[1A[2KðŸ” Test 2: Header transmission

[1A[2KðŸ“Š Header transmission status: [33m200[39m

[1A[2Kâœ… Headers can be sent

[1A[2KðŸ” Test 3: Agent GET endpoint

[1A[2KðŸ“Š Agent GET status: [33m200[39m

[1A[2KðŸ“Š Agent GET count: [33m3[39m

[1A[2Kâœ… Agent GET endpoint working

[1A[2KðŸ” Test 4: Testing different database operations

[1A[2KðŸ“Š Testing user endpoint...

[1A[2KðŸ“Š User endpoint status: [33m200[39m

[1A[2KðŸ“Š User data available: [33mtrue[39m

[1A[2KðŸ” Test 5: Workflow creation test

[1A[2KðŸ“Š Workflow creation status: [33m404[39m

[1A[2KâŒ Workflow creation failed: {"detail":"Not Found"}

[1A[2KðŸ” Test 6: Minimal agent creation

[1A[2KðŸ“Š Minimal agent creation status: [33m201[39m

[1A[2KðŸ“Š Minimal agent created ID: [33m4[39m

[1A[2Kâœ… Agent creation working with mock model

[1A[2KðŸ” Test 7: Database introspection

[1A[2KðŸ“Š System health status: [33m404[39m

[1A[2Kâœ… Comprehensive debug test complete

[1A[2K  5) [chromium] â€º tests/canvas_complete_workflow.spec.ts:17:7 â€º Complete Canvas Workflow â€º End-to-end canvas workflow with agent and tool execution 

    TimeoutError: locator.click: Timeout 10000ms exceeded.
    Call log:
    [2m  - waiting for getByTestId('global-dashboard-tab')[22m


      43 |     // Step 3: Verify agent appears in dashboard
      44 |     console.log('ðŸ“Š Step 3: Verifying agent in dashboard...');
    > 45 |     await page.getByTestId('global-dashboard-tab').click();
         |                                                    ^
      46 |     await page.waitForTimeout(1000);
      47 |     
      48 |     // Check if agent is visible in dashboard
        at /Users/davidrose/git/zerg/e2e/tests/canvas_complete_workflow.spec.ts:45:52

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/canvas_complete_workflow-C-c6777-th-agent-and-tool-execution-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/canvas_complete_workflow-C-c6777-th-agent-and-tool-execution-chromium/error-context.md

    attachment #3: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/canvas_complete_workflow-C-c6777-th-agent-and-tool-execution-chromium/trace.zip
    Usage:

        npx playwright show-trace test-results/canvas_complete_workflow-C-c6777-th-agent-and-tool-execution-chromium/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    TimeoutError: locator.click: Timeout 10000ms exceeded.
    Call log:
    [2m  - waiting for getByTestId('global-dashboard-tab')[22m


      43 |     // Step 3: Verify agent appears in dashboard
      44 |     console.log('ðŸ“Š Step 3: Verifying agent in dashboard...');
    > 45 |     await page.getByTestId('global-dashboard-tab').click();
         |                                                    ^
      46 |     await page.waitForTimeout(1000);
      47 |     
      48 |     // Check if agent is visible in dashboard
        at /Users/davidrose/git/zerg/e2e/tests/canvas_complete_workflow.spec.ts:45:52

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/canvas_complete_workflow-C-c6777-th-agent-and-tool-execution-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/canvas_complete_workflow-C-c6777-th-agent-and-tool-execution-chromium-retry1/error-context.md

    attachment #3: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/canvas_complete_workflow-C-c6777-th-agent-and-tool-execution-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/canvas_complete_workflow-C-c6777-th-agent-and-tool-execution-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


ðŸ§¹ Starting test environment cleanup...
âœ… Test database cleanup completed
âœ… Test environment cleanup completed
[1A[2K  5 failed
    [chromium] â€º tests/agent_creation_full.spec.ts:15:7 â€º Agent Creation Full Workflow â€º Complete agent creation and isolation test 
    [chromium] â€º tests/canvas_api_contract.spec.ts:10:7 â€º Canvas UI Tests â€º Canvas tab loads successfully without errors 
    [chromium] â€º tests/canvas_api_contract.spec.ts:35:7 â€º Canvas UI Tests â€º Canvas persists state when switching tabs 
    [chromium] â€º tests/canvas_api_contract.spec.ts:56:7 â€º Canvas UI Tests â€º Canvas workspace is interactive 
    [chromium] â€º tests/canvas_complete_workflow.spec.ts:17:7 â€º Complete Canvas Workflow â€º End-to-end canvas workflow with agent and tool execution 
  1 passed (1.3m)
