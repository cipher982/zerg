# Example environment variables for local development.
# Copy to `.env` at the repo-root and adjust values.

# ---------------------------------------------------------------------------
# Database
# ---------------------------------------------------------------------------
# SQLite by default; override with your own connection string as needed.
DATABASE_URL="sqlite:///./app.db"

# ---------------------------------------------------------------------------
# OpenAI
# ---------------------------------------------------------------------------
OPENAI_API_KEY="sk-your-key-here"

# Optional: cap LLM completion size (0 disables)
MAX_OUTPUT_TOKENS="1000"

# Optional: per-user daily runs cap (0 disables)
DAILY_RUNS_PER_USER="100"

# Optional: restrict non-admin users to specific models
ALLOWED_MODELS_NON_ADMIN="gpt-4o-mini"

# ---------------------------------------------------------------------------
# Authentication (Google OIDC)
# ---------------------------------------------------------------------------
# OAuth client obtained from Google Cloud Console.  For development you can
# use http://localhost:8002 as an authorised JavaScript origin and
# http://localhost:8002 as an authorised redirect URI (implicit flow).

GOOGLE_CLIENT_ID="change-me.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="change-me-secret"

# Secret used to sign application-issued JWT access tokens (HS256).
JWT_SECRET="dev-secret"

# Development shortcut: when set to "1" all auth checks are bypassed and a
# deterministic *dev user* is injected into every request context.
AUTH_DISABLED="1"

# Public URL used to construct callback URLs and for docs/links
APP_PUBLIC_URL="https://your-ngrok-url.ngrok.io"

# Gmail Pub/Sub push configuration (production-like)
# Fully-qualified Pub/Sub topic name, e.g. projects/my-project/topics/gmail-push
GMAIL_PUBSUB_TOPIC=""
# Audience configured on the Pub/Sub push subscription for OIDC validation
PUBSUB_AUDIENCE=""

# ---------------------------------------------------------------------------
# User limits / Admin
# ---------------------------------------------------------------------------
# Maximum number of user accounts allowed to sign up before registrations are
# blocked (non-admin). Set to 0 to disable the cap. Default: 20
MAX_USERS="20"
# Comma-separated list of admin emails. Admins bypass signup caps and receive
# elevated privileges (role=ADMIN) on first login.
ADMIN_EMAILS="me@example.com"

# Database reset security password (required in production environments)
# Only super admins (users in ADMIN_EMAILS) can reset the database
# In production, this password provides additional confirmation
DB_RESET_PASSWORD="your-secure-reset-password-here"

# ---------------------------------------------------------------------------
# Ops notifications (Discord)
# ---------------------------------------------------------------------------
# Optional: Discord webhook for budget alerts / daily digest
DISCORD_WEBHOOK_URL="https://discord.com/api/webhooks/your-webhook-id/token"
# Enable alerts (80% warn, 100% deny). Default: off
DISCORD_ENABLE_ALERTS="0"
# Cron for daily digest (server timezone). Default: 0 8 * * *
DISCORD_DAILY_DIGEST_CRON="0 8 * * *"

# ---------------------------------------------------------------------------
# Unified Docker Compose - REQUIRED Ports (Fail-Fast Configuration)
# ---------------------------------------------------------------------------
# All ports MUST be set - no defaults provided to ensure explicit configuration
#
# External entry points (accessible from host):
JARPXY_PORT="30080"
ZGPXY_PORT="30081"
#
# Internal service ports (Docker network only):
JARVIS_WEB_PORT="8080"
JARVIS_SERVER_PORT="8787"
ZERG_BACKEND_PORT="8000"
ZERG_FRONTEND_PORT="5173"
